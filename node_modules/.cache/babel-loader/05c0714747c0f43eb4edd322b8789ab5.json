{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{createCard,readDeck}from\"../utils/api/index.js\";import{useHistory,useParams,Link}from\"react-router-dom\";import CardForm from\"./CardForm.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AddCard=function AddCard(props){var initialCardState={front:\"\",back:\"\"};var _useState=useState(_objectSpread({},initialCardState)),_useState2=_slicedToArray(_useState,2),card=_useState2[0],setCard=_useState2[1];var deck=props.deck,setDeck=props.setDeck;var isNewCard=true;var history=useHistory();var _useParams=useParams(),deckId=_useParams.deckId;useEffect(function(){var abortController=new AbortController();readDeck(deckId,abortController.signal).then(setDeck);return function(){return abortController.abort();};},[deckId,setDeck]);var changeHandler=function changeHandler(event){setCard(_objectSpread(_objectSpread({},card),{},_defineProperty({},event.target.name,event.target.value)));};var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return createCard(deckId,card);case 3:setCard(_objectSpread({},initialCardState));case 4:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();if(deck.name){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),\" / \",/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:deck.name}),\" / \",/*#__PURE__*/_jsx(\"span\",{children:\"Add Card\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{children:deck.name}),\" : Add Card\"]}),/*#__PURE__*/_jsx(CardForm,{history:history,isNewCard:isNewCard,card:card,deckId:deckId,changeHandler:changeHandler,submitHandler:submitHandler})]})]})});}else{return null;}};export default AddCard;","map":{"version":3,"sources":["C:/Users/TI/thinkful/assignments/Project_Flashcards_Qualified_1/src/deck/AddCard.js"],"names":["React","useState","useEffect","createCard","readDeck","useHistory","useParams","Link","CardForm","AddCard","props","initialCardState","front","back","card","setCard","deck","setDeck","isNewCard","history","deckId","abortController","AbortController","signal","then","abort","changeHandler","event","target","name","value","submitHandler","preventDefault"],"mappings":"44BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,uBAArC,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,IAAhC,KAA4C,kBAA5C,CACA,MAAOC,CAAAA,QAAP,KAAqB,eAArB,C,wFAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CAChC,GAAMC,CAAAA,gBAAgB,CAAG,CACvBC,KAAK,CAAE,EADgB,CAEvBC,IAAI,CAAE,EAFiB,CAAzB,CAIA,cAAwBZ,QAAQ,kBAAMU,gBAAN,EAAhC,wCAAOG,IAAP,eAAaC,OAAb,eACA,GAAQC,CAAAA,IAAR,CAA0BN,KAA1B,CAAQM,IAAR,CAAcC,OAAd,CAA0BP,KAA1B,CAAcO,OAAd,CACA,GAAMC,CAAAA,SAAS,CAAG,IAAlB,CACA,GAAMC,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CACA,eAAmBC,SAAS,EAA5B,CAAQc,MAAR,YAAQA,MAAR,CAEAlB,SAAS,CAAC,UAAM,CACd,GAAMmB,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CACAlB,QAAQ,CAACgB,MAAD,CAASC,eAAe,CAACE,MAAzB,CAAR,CAAyCC,IAAzC,CAA8CP,OAA9C,EAEA,MAAO,kBAAMI,CAAAA,eAAe,CAACI,KAAhB,EAAN,EAAP,CACD,CALQ,CAKN,CAACL,MAAD,CAASH,OAAT,CALM,CAAT,CAOA,GAAMS,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BZ,OAAO,gCACFD,IADE,wBAEJa,KAAK,CAACC,MAAN,CAAaC,IAFT,CAEgBF,KAAK,CAACC,MAAN,CAAaE,KAF7B,GAAP,CAID,CALD,CAOA,GAAMC,CAAAA,aAAa,0FAAG,iBAAOJ,KAAP,kHACpBA,KAAK,CAACK,cAAN,GADoB,sBAEd7B,CAAAA,UAAU,CAACiB,MAAD,CAASN,IAAT,CAFI,QAGpBC,OAAO,kBAAMJ,gBAAN,EAAP,CAHoB,sDAAH,kBAAboB,CAAAA,aAAa,4CAAnB,CAMA,GAAIf,IAAI,CAACa,IAAT,CAAe,CACb,mBACI,sCACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBADJ,CAEK,KAFL,cAGI,KAAC,IAAD,EAAM,EAAE,kBAAYT,MAAZ,CAAR,UAA+BJ,IAAI,CAACa,IAApC,EAHJ,CAIK,KAJL,cAKI,kCALJ,GADJ,cAQI,oCACI,mCACI,mBAAIb,IAAI,CAACa,IAAT,EADJ,iBADJ,cAII,KAAC,QAAD,EACI,OAAO,CAAEV,OADb,CAEI,SAAS,CAAED,SAFf,CAGI,IAAI,CAAEJ,IAHV,CAII,MAAM,CAAEM,MAJZ,CAKI,aAAa,CAAEM,aALnB,CAMI,aAAa,CAAEK,aANnB,EAJJ,GARJ,GADJ,EADJ,CA0BD,CA3BD,IA2BO,CACL,MAAO,KAAP,CACD,CACF,CA7DM,CA+DP,cAAetB,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { createCard, readDeck } from \"../utils/api/index.js\";\r\nimport { useHistory, useParams, Link } from \"react-router-dom\";\r\nimport CardForm from \"./CardForm.js\";\r\n\r\nexport const AddCard = (props) => {\r\n  const initialCardState = {\r\n    front: \"\",\r\n    back: \"\",\r\n  };\r\n  const [card, setCard] = useState({ ...initialCardState });\r\n  const { deck, setDeck } = props;\r\n  const isNewCard = true;\r\n  const history = useHistory();\r\n  const { deckId } = useParams();\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    readDeck(deckId, abortController.signal).then(setDeck);\r\n\r\n    return () => abortController.abort();\r\n  }, [deckId, setDeck]);\r\n\r\n  const changeHandler = (event) => {\r\n    setCard({\r\n      ...card,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n    await createCard(deckId, card);\r\n    setCard({ ...initialCardState });\r\n  };\r\n\r\n  if (deck.name) {\r\n    return (\r\n        <section>\r\n            <div className=\"container\">\r\n                <nav className=\"breadcrumb\">\r\n                    <Link to=\"/\">Home</Link>\r\n                    {\" / \"}\r\n                    <Link to={`/decks/${deckId}`}>{deck.name}</Link>\r\n                    {\" / \"}\r\n                    <span>Add Card</span>\r\n                </nav>\r\n                <div>\r\n                    <h2>\r\n                        <i>{deck.name}</i> : Add Card\r\n                    </h2>\r\n                    <CardForm\r\n                        history={history}\r\n                        isNewCard={isNewCard}\r\n                        card={card}\r\n                        deckId={deckId}\r\n                        changeHandler={changeHandler}\r\n                        submitHandler={submitHandler}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default AddCard;"]},"metadata":{},"sourceType":"module"}