{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{listDecks}from\"../utils/api/index.js\";import{deleteDeck}from\"../utils/api/index.js\";import DeckSnapshot from\"./DeckSnapshot\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DeckList=function DeckList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),decks=_useState2[0],setDecks=_useState2[1];var history=useHistory();useEffect(function(){var abortController=new AbortController();listDecks(abortController.signal).then(setDecks);return function(){return abortController.abort();};},[]);var deleteHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(deckId){var result,newDecks;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:result=window.confirm(\"Delete this deck? You will not be able to recover it.\");if(!result){_context.next=9;break;}_context.next=4;return deleteDeck(deckId);case 4:_context.next=6;return listDecks();case 6:newDecks=_context.sent;setDecks(newDecks);history.push(\"/\");case 9:case\"end\":return _context.stop();}}},_callee);}));return function deleteHandler(_x){return _ref.apply(this,arguments);};}();var list=decks.map(function(deck){return/*#__PURE__*/_jsx(DeckSnapshot,{deckId:deck.id,name:deck.name,description:deck.description,amount:deck.cards.length,deleteHandler:deleteHandler},deck.id);});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm mb-2\",onClick:function onClick(){return history.push(\"/decks/new\");},children:\"+Create Deck\"}),/*#__PURE__*/_jsx(\"div\",{className:true,children:list})]})})});};export default DeckList;","map":{"version":3,"sources":["C:/Users/TI/thinkful/assignments/Project_Flashcards_Qualified_1/src/home/DeckList.js"],"names":["React","useEffect","useState","listDecks","deleteDeck","DeckSnapshot","useHistory","DeckList","decks","setDecks","history","abortController","AbortController","signal","then","abort","deleteHandler","deckId","result","window","confirm","newDecks","push","list","map","deck","id","name","description","cards","length"],"mappings":"+hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,uBAA1B,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC5B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CAEAL,SAAS,CAAC,UAAM,CACd,GAAMU,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CAEAT,SAAS,CAACQ,eAAe,CAACE,MAAjB,CAAT,CAAkCC,IAAlC,CAAuCL,QAAvC,EAEA,MAAO,kBAAME,CAAAA,eAAe,CAACI,KAAhB,EAAN,EAAP,CACD,CANQ,CAMN,EANM,CAAT,CAQA,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,MAAP,sIACdC,MADc,CACLC,MAAM,CAACC,OAAP,CACb,uDADa,CADK,KAIhBF,MAJgB,+CAKZd,CAAAA,UAAU,CAACa,MAAD,CALE,8BAMKd,CAAAA,SAAS,EANd,QAMZkB,QANY,eAOlBZ,QAAQ,CAACY,QAAD,CAAR,CACAX,OAAO,CAACY,IAAR,CAAa,GAAb,EARkB,sDAAH,kBAAbN,CAAAA,aAAa,4CAAnB,CAYA,GAAMO,CAAAA,IAAI,CAAGf,KAAK,CAACgB,GAAN,CAAU,SAACC,IAAD,qBACrB,KAAC,YAAD,EAEE,MAAM,CAAEA,IAAI,CAACC,EAFf,CAGE,IAAI,CAAED,IAAI,CAACE,IAHb,CAIE,WAAW,CAAEF,IAAI,CAACG,WAJpB,CAKE,MAAM,CAAEH,IAAI,CAACI,KAAL,CAAWC,MALrB,CAME,aAAa,CAAEd,aANjB,EACOS,IAAI,CAACC,EADZ,CADqB,EAAV,CAAb,CAWA,mBACE,kCACE,sCACE,aAAK,SAAS,CAAC,WAAf,wBACE,eACE,SAAS,CAAC,+BADZ,CAEE,OAAO,CAAE,yBAAMhB,CAAAA,OAAO,CAACY,IAAR,cAAN,EAFX,0BADF,cAOE,YAAK,SAAS,KAAd,UAAgBC,IAAhB,EAPF,GADF,EADF,EADF,CAeD,CAlDM,CAoDP,cAAehB,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { listDecks } from \"../utils/api/index.js\";\r\nimport { deleteDeck } from \"../utils/api/index.js\";\r\nimport DeckSnapshot from \"./DeckSnapshot\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const DeckList = () => {\r\n  const [decks, setDecks] = useState([]);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n\r\n    listDecks(abortController.signal).then(setDecks);\r\n\r\n    return () => abortController.abort();\r\n  }, []);\r\n\r\n  const deleteHandler = async (deckId) => {\r\n    const result = window.confirm(\r\n      \"Delete this deck? You will not be able to recover it.\"\r\n    );\r\n    if (result) {\r\n      await deleteDeck(deckId);\r\n      const newDecks = await listDecks();\r\n      setDecks(newDecks);\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const list = decks.map((deck) => (\r\n    <DeckSnapshot\r\n      key={deck.id}\r\n      deckId={deck.id}\r\n      name={deck.name}\r\n      description={deck.description}\r\n      amount={deck.cards.length}\r\n      deleteHandler={deleteHandler}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <section>\r\n        <div className=\"container\">\r\n          <button\r\n            className=\"btn btn-secondary btn-sm mb-2\"\r\n            onClick={() => history.push(`/decks/new`)}\r\n          >\r\n            +Create Deck\r\n          </button>\r\n          <div className>{list}</div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeckList;"]},"metadata":{},"sourceType":"module"}