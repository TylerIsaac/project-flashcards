{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import{useParams,useHistory,Link}from\"react-router-dom\";import{readDeck,deleteDeck}from\"../utils/api/index.js\";import CardList from\"./CardList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DeckView=function DeckView(props){var deck=props.deck,setDeck=props.setDeck;var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();useEffect(function(){var abortController=new AbortController();readDeck(deckId,abortController.signal).then(setDeck);return function(){return abortController.abort();};},[deckId,setDeck]);var deckDeleteHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(deckId){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:result=window.confirm(\"Delete this deck? You will not be able to recover it.\");if(!result){_context.next=5;break;}_context.next=4;return deleteDeck(deckId);case 4:history.push(\"/\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function deckDeleteHandler(_x){return _ref.apply(this,arguments);};}();var refreshDeck=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var updatedDeck;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return readDeck(deckId);case 2:updatedDeck=_context2.sent;setDeck(updatedDeck);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function refreshDeck(){return _ref2.apply(this,arguments);};}();if(deck.id){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"breadcrumb ml-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),\" / \",/*#__PURE__*/_jsx(\"span\",{children:deck.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{children:deck.name}),/*#__PURE__*/_jsx(\"p\",{children:deck.description}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm\",onClick:function onClick(){return history.push(\"/decks/\".concat(deckId,\"/edit\"));},children:\"\\u270E Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm ml-2\",onClick:function onClick(){return history.push(\"/decks/\".concat(deckId,\"/study\"));},children:\"\\uD83D\\uDD6E Study\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm ml-2\",onClick:function onClick(){return history.push(\"/decks/\".concat(deckId,\"/cards/new\"));},children:\"+ Add Cards\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm ml-2\",onClick:function onClick(){return deckDeleteHandler(deckId);},children:\"\\uD83D\\uDDD1\"})]})})]})})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-4\",children:\"Cards\"}),/*#__PURE__*/_jsx(CardList,{cards:deck.cards,deckId:deckId,refreshDeck:refreshDeck})]})});}else{return null;}};export default DeckView;","map":{"version":3,"sources":["C:/Users/TI/thinkful/assignments/Project_Flashcards_Qualified_1/src/deck/DeckView.js"],"names":["React","useEffect","useParams","useHistory","Link","readDeck","deleteDeck","CardList","DeckView","props","deck","setDeck","deckId","history","abortController","AbortController","signal","then","abort","deckDeleteHandler","result","window","confirm","push","refreshDeck","updatedDeck","id","name","description","cards"],"mappings":"yWAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,CAAoBC,UAApB,CAAgCC,IAAhC,KAA4C,kBAA5C,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,uBAArC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,wFAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACjC,GAAQC,CAAAA,IAAR,CAA0BD,KAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,KAA1B,CAAcE,OAAd,CACA,eAAmBT,SAAS,EAA5B,CAAQU,MAAR,YAAQA,MAAR,CACA,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CACAV,QAAQ,CAACO,MAAD,CAASE,eAAe,CAACE,MAAzB,CAAR,CAAyCC,IAAzC,CAA8CN,OAA9C,EAEA,MAAO,kBAAMG,CAAAA,eAAe,CAACI,KAAhB,EAAN,EAAP,CACD,CALQ,CAKN,CAACN,MAAD,CAASD,OAAT,CALM,CAAT,CAOA,GAAMQ,CAAAA,iBAAiB,0FAAG,iBAAOP,MAAP,6HAClBQ,MADkB,CACTC,MAAM,CAACC,OAAP,CACb,uDADa,CADS,KAIpBF,MAJoB,+CAKhBd,CAAAA,UAAU,CAACM,MAAD,CALM,QAMtBC,OAAO,CAACU,IAAR,CAAa,GAAb,EANsB,sDAAH,kBAAjBJ,CAAAA,iBAAiB,4CAAvB,CAUA,GAAMK,CAAAA,WAAW,2FAAG,+KACQnB,CAAAA,QAAQ,CAACO,MAAD,CADhB,QACZa,WADY,gBAElBd,OAAO,CAACc,WAAD,CAAP,CAFkB,wDAAH,kBAAXD,CAAAA,WAAW,2CAAjB,CAKA,GAAId,IAAI,CAACgB,EAAT,CAAa,CACX,mBACE,sCACE,aAAK,SAAS,CAAC,WAAf,wBACE,oCACE,aAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBADF,CAEG,KAFH,cAGE,sBAAOhB,IAAI,CAACiB,IAAZ,EAHF,GADF,cAME,YAAK,SAAS,CAAC,EAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,oBAAKjB,IAAI,CAACiB,IAAV,EADF,cAEE,mBAAIjB,IAAI,CAACkB,WAAT,EAFF,cAGE,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,eACI,SAAS,CAAC,0BADd,CAEI,OAAO,CAAE,yBAAMf,CAAAA,OAAO,CAACU,IAAR,kBAAuBX,MAAvB,UAAN,EAFb,yBADJ,cAOI,eACI,SAAS,CAAC,6BADd,CAEI,OAAO,CAAE,yBAAMC,CAAAA,OAAO,CAACU,IAAR,kBAAuBX,MAAvB,WAAN,EAFb,gCAPJ,cAaI,eACI,SAAS,CAAC,6BADd,CAEI,OAAO,CAAE,yBAAMC,CAAAA,OAAO,CAACU,IAAR,kBAAuBX,MAAvB,eAAN,EAFb,yBAbJ,cAmBI,eACI,SAAS,CAAC,4BADd,CAEI,OAAO,CAAE,yBAAMO,CAAAA,iBAAiB,CAACP,MAAD,CAAvB,EAFb,0BAnBJ,GADJ,EAHF,GADF,EANF,GADF,cA0CE,WAAI,SAAS,CAAC,MAAd,mBA1CF,cA2CE,KAAC,QAAD,EACE,KAAK,CAAEF,IAAI,CAACmB,KADd,CAEE,MAAM,CAAEjB,MAFV,CAGE,WAAW,CAAEY,WAHf,EA3CF,GADF,EADF,CAqDD,CAtDD,IAsDO,CACL,MAAO,KAAP,CACD,CACF,CApFM,CAsFP,cAAehB,CAAAA,QAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useParams, useHistory, Link } from \"react-router-dom\";\r\nimport { readDeck, deleteDeck } from \"../utils/api/index.js\";\r\nimport CardList from \"./CardList\";\r\n\r\nexport const DeckView = (props) => {\r\n  const { deck, setDeck } = props;\r\n  const { deckId } = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    readDeck(deckId, abortController.signal).then(setDeck);\r\n\r\n    return () => abortController.abort();\r\n  }, [deckId, setDeck]);\r\n\r\n  const deckDeleteHandler = async (deckId) => {\r\n    const result = window.confirm(\r\n      \"Delete this deck? You will not be able to recover it.\"\r\n    );\r\n    if (result) {\r\n      await deleteDeck(deckId);\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const refreshDeck = async () => {\r\n    const updatedDeck = await readDeck(deckId);\r\n    setDeck(updatedDeck);\r\n  };\r\n\r\n  if (deck.id) {\r\n    return (\r\n      <section>\r\n        <div className=\"container\">\r\n          <div>\r\n            <nav className=\"breadcrumb ml-2\">\r\n              <Link to=\"/\">Home</Link>\r\n              {\" / \"}\r\n              <span>{deck.name}</span>\r\n            </nav>\r\n            <div className=\"\">\r\n              <div className=\"card-body\">\r\n                <h3>{deck.name}</h3>\r\n                <p>{deck.description}</p>\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <button\r\n                            className=\"btn btn-secondary btn-sm\"\r\n                            onClick={() => history.push(`/decks/${deckId}/edit`)}\r\n                            >\r\n                            âœŽ Edit\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-primary btn-sm ml-2\"\r\n                            onClick={() => history.push(`/decks/${deckId}/study`)}\r\n                            >\r\n                            ðŸ•® Study\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-primary btn-sm ml-2\"\r\n                            onClick={() => history.push(`/decks/${deckId}/cards/new`)}\r\n                            >\r\n                            + Add Cards\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-danger btn-sm ml-2\"\r\n                            onClick={() => deckDeleteHandler(deckId)}\r\n                            >\r\n                            ðŸ—‘\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h2 className=\"mt-4\">Cards</h2>\r\n          <CardList\r\n            cards={deck.cards}\r\n            deckId={deckId}\r\n            refreshDeck={refreshDeck}\r\n          />\r\n        </div>\r\n      </section>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default DeckView;"]},"metadata":{},"sourceType":"module"}