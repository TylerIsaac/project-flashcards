{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/TI/Thinkful/assignments/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory,useParams,Link}from\"react-router-dom\";import{readCard,updateCard,readDeck}from\"../utils/api/index.js\";import CardForm from\"./CardForm.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditCard=function EditCard(props){var initialCardState={front:\"\",back:\"\"};var _useState=useState(_objectSpread({},initialCardState)),_useState2=_slicedToArray(_useState,2),card=_useState2[0],setCard=_useState2[1];var deck=props.deck,setDeck=props.setDeck;var history=useHistory();var _useParams=useParams(),deckId=_useParams.deckId,cardId=_useParams.cardId;var isNewCard=false;useEffect(function(){var abortController=new AbortController();readCard(cardId,abortController.signal).then(setCard);return function(){return abortController.abort();};},[cardId]);useEffect(function(){var abortController=new AbortController();readDeck(deckId,abortController.signal).then(setDeck);return function(){return abortController.abort();};},[deckId,setDeck]);var changeHandler=function changeHandler(event){setCard(_objectSpread(_objectSpread({},card),{},_defineProperty({},event.target.name,event.target.value)));};var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return updateCard(card);case 3:history.push(\"/decks/\".concat(deckId));case 4:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();if(deck.name){return/*#__PURE__*/_jsxs(\"section\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),\" / \",/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:deck.name}),\" / \",/*#__PURE__*/_jsxs(\"span\",{children:[\"Edit Card \",cardId]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Card\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row card-body\",children:/*#__PURE__*/_jsx(CardForm,{history:history,isNewCard:isNewCard,card:card,deckId:deckId,changeHandler:changeHandler,submitHandler:submitHandler})})]});}else{return null;}};export default EditCard;","map":{"version":3,"sources":["C:/Users/TI/thinkful/assignments/Project_Flashcards_Qualified_1/src/deck/EditCard.js"],"names":["React","useState","useEffect","useHistory","useParams","Link","readCard","updateCard","readDeck","CardForm","EditCard","props","initialCardState","front","back","card","setCard","deck","setDeck","history","deckId","cardId","isNewCard","abortController","AbortController","signal","then","abort","changeHandler","event","target","name","value","submitHandler","preventDefault","push"],"mappings":"44BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,IAAhC,KAA4C,kBAA5C,CACA,OAASC,QAAT,CAAmBC,UAAnB,CAA+BC,QAA/B,KAA+C,uBAA/C,CACA,MAAOC,CAAAA,QAAP,KAAqB,eAArB,C,wFAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACjC,GAAMC,CAAAA,gBAAgB,CAAG,CACvBC,KAAK,CAAE,EADgB,CAEvBC,IAAI,CAAE,EAFiB,CAAzB,CAIA,cAAwBb,QAAQ,kBAAMW,gBAAN,EAAhC,wCAAOG,IAAP,eAAaC,OAAb,eACA,GAAQC,CAAAA,IAAR,CAA0BN,KAA1B,CAAQM,IAAR,CAAcC,OAAd,CAA0BP,KAA1B,CAAcO,OAAd,CACA,GAAMC,CAAAA,OAAO,CAAGhB,UAAU,EAA1B,CACA,eAA2BC,SAAS,EAApC,CAAQgB,MAAR,YAAQA,MAAR,CAAgBC,MAAhB,YAAgBA,MAAhB,CACA,GAAMC,CAAAA,SAAS,CAAG,KAAlB,CAEApB,SAAS,CAAC,UAAM,CACd,GAAMqB,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CACAlB,QAAQ,CAACe,MAAD,CAASE,eAAe,CAACE,MAAzB,CAAR,CAAyCC,IAAzC,CAA8CV,OAA9C,EAEA,MAAO,kBAAMO,CAAAA,eAAe,CAACI,KAAhB,EAAN,EAAP,CACD,CALQ,CAKN,CAACN,MAAD,CALM,CAAT,CAOAnB,SAAS,CAAC,UAAM,CACd,GAAMqB,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CACAhB,QAAQ,CAACY,MAAD,CAASG,eAAe,CAACE,MAAzB,CAAR,CAAyCC,IAAzC,CAA8CR,OAA9C,EAEA,MAAO,kBAAMK,CAAAA,eAAe,CAACI,KAAhB,EAAN,EAAP,CACD,CALQ,CAKN,CAACP,MAAD,CAASF,OAAT,CALM,CAAT,CAOA,GAAMU,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/Bb,OAAO,gCACFD,IADE,wBAEJc,KAAK,CAACC,MAAN,CAAaC,IAFT,CAEgBF,KAAK,CAACC,MAAN,CAAaE,KAF7B,GAAP,CAID,CALD,CAOA,GAAMC,CAAAA,aAAa,0FAAG,iBAAOJ,KAAP,kHACpBA,KAAK,CAACK,cAAN,GADoB,sBAEd3B,CAAAA,UAAU,CAACQ,IAAD,CAFI,QAGpBI,OAAO,CAACgB,IAAR,kBAAuBf,MAAvB,GAHoB,sDAAH,kBAAba,CAAAA,aAAa,4CAAnB,CAMA,GAAIhB,IAAI,CAACc,IAAT,CAAe,CACb,mBACI,iBAAS,SAAS,CAAC,WAAnB,wBACQ,aAAK,SAAS,CAAC,YAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBADJ,CAEK,KAFL,cAGI,KAAC,IAAD,EAAM,EAAE,kBAAYX,MAAZ,CAAR,UAA+BH,IAAI,CAACc,IAApC,EAHJ,CAIK,KAJL,cAKI,qCAAiBV,MAAjB,GALJ,GADR,cAQQ,iCARR,cASI,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,QAAD,EACI,OAAO,CAAEF,OADb,CAEI,SAAS,CAAEG,SAFf,CAGI,IAAI,CAAEP,IAHV,CAII,MAAM,CAAEK,MAJZ,CAKI,aAAa,CAAEQ,aALnB,CAMI,aAAa,CAAEK,aANnB,EADJ,EATJ,GADJ,CAsBD,CAvBD,IAuBO,CACL,MAAO,KAAP,CACD,CACF,CAhEM,CAkEP,cAAevB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useParams, Link } from \"react-router-dom\";\r\nimport { readCard, updateCard, readDeck } from \"../utils/api/index.js\";\r\nimport CardForm from \"./CardForm.js\";\r\n\r\nexport const EditCard = (props) => {\r\n  const initialCardState = {\r\n    front: \"\",\r\n    back: \"\",\r\n  };\r\n  const [card, setCard] = useState({ ...initialCardState });\r\n  const { deck, setDeck } = props;\r\n  const history = useHistory();\r\n  const { deckId, cardId } = useParams();\r\n  const isNewCard = false;\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    readCard(cardId, abortController.signal).then(setCard);\r\n\r\n    return () => abortController.abort();\r\n  }, [cardId]);\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    readDeck(deckId, abortController.signal).then(setDeck);\r\n\r\n    return () => abortController.abort();\r\n  }, [deckId, setDeck]);\r\n\r\n  const changeHandler = (event) => {\r\n    setCard({\r\n      ...card,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n    await updateCard(card);\r\n    history.push(`/decks/${deckId}`);\r\n  };\r\n\r\n  if (deck.name) {\r\n    return (\r\n        <section className=\"container\">\r\n                <nav className=\"breadcrumb\">\r\n                    <Link to=\"/\">Home</Link>\r\n                    {\" / \"}\r\n                    <Link to={`/decks/${deckId}`}>{deck.name}</Link>\r\n                    {\" / \"}\r\n                    <span>Edit Card {cardId}</span>\r\n                </nav>\r\n                <h2>Edit Card</h2>\r\n            <div className=\"row card-body\">\r\n                <CardForm\r\n                    history={history}\r\n                    isNewCard={isNewCard}\r\n                    card={card}\r\n                    deckId={deckId}\r\n                    changeHandler={changeHandler}\r\n                    submitHandler={submitHandler}\r\n                />\r\n            </div>\r\n        </section>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default EditCard;"]},"metadata":{},"sourceType":"module"}